<html>
    <body>
        <h1>List renewal visas</h1>
        <div id="list_renewal"></div>
        <script>
            
            const electron = require("electron");
            const { ipcRenderer } = electron;
                        
            ipcRenderer.send("visa:renewal:request:list");
            ipcRenderer.on("visa:renewal:response:list", (event, visas) => {
            const listDiv = document.getElementById("list_renewal");

            visas.forEach(visa => {
            const visaDiv = document.createElement("div");
            const regis_numParagraph = document.createElement("p");
            regis_numParagraph.innerHTML = `Registration number: ${visa.regis_num}`;
            const irp_expiryParagraph = document.createElement("p");
            irp_expiryParagraph.innerHTML = `Current IRP expiry date: ${visa.irp_expiry}`;
            const nameParagraph = document.createElement("p");
            nameParagraph.innerHTML = `Name: ${visa.name}`;
            const surnameParagraph = document.createElement("p");
            surnameParagraph.innerHTML = `Surname: ${visa.surname}`;
            const dateParagraph = document.createElement("p");
            dateParagraph.innerHTML = `Date of birth: ${visa.date}`;
            const genderParagraph = document.createElement("p");
            genderParagraph.innerHTML = `Gender: ${visa.gender}`;
            const phoneParagraph = document.createElement("p");
            phoneParagraph.innerHTML = `Phone number: ${visa.phone}`;
            const addressParagraph = document.createElement("p");
            addressParagraph.innerHTML = `Postal address: ${visa.address}`;
            const townParagraph = document.createElement("p");
            townParagraph.innerHTML = `Town/City: ${visa.town}`;
            const countyParagraph = document.createElement("p");
            countyParagraph.innerHTML = `County: ${visa.county}`;
            const eircodeParagraph = document.createElement("p");
            eircodeParagraph.innerHTML = `Eircode: ${visa.eircode}`;
            const nationalityParagraph = document.createElement("p");
            nationalityParagraph.innerHTML = `Nationality: ${visa.nationality}`;
            const pass_numParagraph = document.createElement("p");
            pass_numParagraph.innerHTML = `Passport number: ${visa.pass_num}`;
            const pass_expiryParagraph = document.createElement("p");
            pass_expiryParagraph.innerHTML = `Passport expiry date: ${visa.pass_expiry}`;
            const visa_typeParagraph = document.createElement("p");
            visa_typeParagraph.innerHTML = `Permission Type: ${visa.visa_type}`;
            const schoolParagraph = document.createElement("p");
            schoolParagraph.innerHTML = `Institute name: ${visa.school}`;
            const courseParagraph = document.createElement("p");
            courseParagraph.innerHTML = `Institute course: ${visa.course}`;
            const course_yearParagraph = document.createElement("p");
            course_yearParagraph.innerHTML = `Name: ${visa.course_year}`;
            const student_idParagraph = document.createElement("p");
            student_idParagraph.innerHTML = `Surname: ${visa.student_id}`;

            const doneParagraph = document.createElement("p");
            doneParagraph.innerHTML = `Done: ${visa.done ? "Yes" : "No"}`;
            const hr = document.createElement("hr");
 
            visaDiv.appendChild(regis_numParagraph);
            visaDiv.appendChild(irp_expiryParagraph);
            visaDiv.appendChild(nameParagraph);
            visaDiv.appendChild(surnameParagraph);
            visaDiv.appendChild(dateParagraph);
            visaDiv.appendChild(genderParagraph);
            visaDiv.appendChild(phoneParagraph);
            visaDiv.appendChild(addressParagraph);
            visaDiv.appendChild(townParagraph);
            visaDiv.appendChild(countyParagraph);
            visaDiv.appendChild(eircodeParagraph);
            visaDiv.appendChild(nationalityParagraph);
            visaDiv.appendChild(pass_numParagraph);
            visaDiv.appendChild(pass_expiryParagraph);
            visaDiv.appendChild(visa_typeParagraph);
            visaDiv.appendChild(schoolParagraph);
            visaDiv.appendChild(courseParagraph);
            visaDiv.appendChild(course_yearParagraph);
            visaDiv.appendChild(student_idParagraph);
            visaDiv.appendChild(doneParagraph);
            visaDiv.appendChild(hr);
            
            listDiv.append(visaDiv);
            });
        });
        </script>
    </body>
</html>