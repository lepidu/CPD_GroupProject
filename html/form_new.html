<html>
    <head>
    <link rel="stylesheet" href="css/style.css">
</head>
    <body>
        <h1> Registration Visa </h1>
            <form id="form_new">

                <label for="name">Forename(s) as on your current IRPP card:</label><br />
                <input type="text" name="name" required />
                <br /><br />
                <label for="surname">Surname(s) as on your current IRP card:</label><br />
                <input type="text" name="surname" required />
                <br /><br />
                <label for="date">Date of birth:</label><br />
                <input type="text" name="date" placeholder="YYYY-MM-DD" required />
                <br /><br />
                <label for="gender">Select a Gender</label><br/>
                 <select name="gender">
                    <option value="male" selected="selected">Male</option>
                    <option value="female" selected="selected">Female</option>
                    <option value="non_binary" selected="selected">Non Binary</option>
                </select>
                <br /><br />
                <label for="phone">Phone number:</label><br />
                <input type="text" name="phone" placeholder="0123456789" required />
                <br /><br />
                <label for="address">Current postal address:</label><br />
                <input type="text" name="address" required />
                <br /><br />
                <label for="town">Town/City:</label><br />
                <input type="text" name="town" required />
                <br /><br />
                <label for="county">County:</label><br />
                <input type="text" name="county" required />
                <br /><br />
                <label for="eircode">Eircode:</label><br />
                <input type="text" name="eircode" placeholder="D234567" required />
                <br /><br />
                <label for="nationality">Nationality:</label><br />
                <input type="text" name="nationality" required />
                <br /><br />
                <label for="pass_num">Passport number:</label><br />
                <input type="text" name="pass_num" placeholder="X12345678" required />
                <br /><br />
                <label for="pass_expiry">Passport expiry date:</label><br />
                <input type="text" name="pass_expiry" placeholder="YYYY-MM-DD" required />
                <br /><br />
                <label for="visa_type">Permission type:</label><br />
                <select name="visa_type">
                    <option value="visa_2" selected="selected">Stamp 2</option>
                    <option value="visa_2a" selected="selected">Stamp 2A</option>
                    <option value="visa_1g" selected="selected">Stamp 1G</option>
                </select><br>
                <br /><br />
                <label for="school">Institute name:</label><br />
                <input type="text" name="school" required />
                <br /><br />
                <label for="course">Institute course:</label><br />
                <input type="text" name="course" required />
                <br /><br />
                
                <input type="submit" />
            </form>
        
             <script>
                const ipc = require('electron').ipcRenderer;
                const form = document.getElementById('form_new');
                const elements = {};

                form.addEventListener("submit", event => {
                event.preventDefault();

                for (let i = 0; i < form.elements.length; i++) {
                if (form.elements[i].type !== "submit")
                elements[form.elements[i].name] = form.elements[i].value;
                }
                ipc.send("visa:newUser:information", elements);
                }); 
            </script>
          
    </body>
</html>