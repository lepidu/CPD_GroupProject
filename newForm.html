<html>
   
    <body>
        <h1> Registration Visa </h1>
        <div id="list"></div>
        <script>
            const electron = require("electron");
            const {ipcRenderer} = electron;
            ipcRenderer.send("appointment:request:today");
            ipcRenderer.on("appointment:response:today", (event, appointments) => {
            const listDiv = document.getElementById("list");
            listDiv.innerHTML = "";
            appointments.forEach(appointment => {
            const appointmentDiv = document.createElement("div");
            const nameParagraph = document.createElement("p");
            nameParagraph.innerHTML = `Name: ${appointment.name}`;
            const surnameParagraph = document.createElement("p");
            surnameParagraph.innerHTML = `Surname: ${appointment.surname}`;
            const numberParagraph = document.createElement("p");
            numberParagraph.innerHTML = `Phone Number: ${appointment.number}`;
            const genderParagraph = document.createElement("p");
            genderParagraph.innerHTML = `Gender: ${appointment.gender}`;
            const dateParagraph = document.createElement("p");
            dateOfBirthParagraph.innerHTML = `Date of Birth: ${appointment.dateOfBirth}`;
            const addressParagraph = document.createElement("p");
            addressParagraph.innerHTML = `Address: ${appointment.address}`;    
            const townCityParagraph = document.createElement("p");
            townCityParagraph.innerHTML = `Town/City: ${appointment.townCity}`;
            const countyParagraph = document.createElement("p");
            countyParagraph.innerHTML = `County: ${appointment.county}`;
            const eircodeParagraph = document.createElement("p");
            eircodeParagraph.innerHTML = `Eircode: ${appointment.eircode}`;
            const nationalityParagraph = document.createElement("p");
            nationalityParagraph.innerHTML = `Nationality: ${appointment.nationality}`;
            const passportNumberParagraph = document.createElement("p");
            passportNumberParagraph.innerHTML = `Passport Number: ${appointment.passportNumber}`;
            const passportExpiryParagraph = document.createElement("p");
            passportExpiryParagraph.innerHTML = `Passport Expiry Date: ${appointment.passportExpiry}`;
            const permissionTypeParagraph = document.createElement("p");
            permissionTypeParagraph.innerHTML = `Permission Type: ${appointment.permissionType}`;
            const instituteNameParagraph = document.createElement("p");
            instituteNameParagraph.innerHTML = `Institute Name: ${appointment.instituteName}`;
            const instituteCourseParagraph = document.createElement("p");
            instituteCourseParagraph.innerHTML = `Institute Course: ${appointment.instituteCourse}`;            
            const doneParagraph = document.createElement("p");
            doneParagraph.innerHTML = `Done: ${appointment.done ? "Yes" : "No"}`;
            const doneButton = document.createElement("button");
            doneButton.innerHTML = "Done";
            doneButton.disabled = appointment.done ? true : false;
            doneButton.onclick = () => done(appointment.id);
            appointmentDiv.appendChild(nameParagraph);
            appointmentDiv.appendChild(surnameParagraph);
            appointmentDiv.appendChild(numberParagraph);
            appointmentDiv.appendChild(genderParagraph);            
            appointmentDiv.appendChild(dateOfBirthParagraph);
            appointmentDiv.appendChild(addressParagraph);
            appointmentDiv.appendChild(townCityParagraph);
            appointmentDiv.appendChild(countyParagraph);
            appointmentDiv.appendChild(eircodeParagraph);
            appointmentDiv.appendChild(nationalityParagraph);
            appointmentDiv.appendChild(passportNumberParagraph);
            appointmentDiv.appendChild(passportExpiryParagraph);
            appointmentDiv.appendChild(permissionTypeParagraph);
            appointmentDiv.appendChild(instituteNameParagraph);
            appointmentDiv.appendChild(instituteCourseParagraph);
            appointmentDiv.appendChild(doneParagraph);
            appointmentDiv.appendChild(doneButton);
            listDiv.append(appointmentDiv);
            });
        });
 

        
    </body>
</html>